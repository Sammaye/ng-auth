<div class="container">
  <form [formGroup]="form" (ngSubmit)="onSubmit()">
    <div class="row justify-content-center mb-5 mt-3">
      <div class="col-md-8">
        <h1 class="text-center">Register for your account!</h1>
      </div>
    </div>

    <div class="row justify-content-center">
      <div class="col-sm-6">

        <div class="form-group">
          <label>Name</label>
          <input autofocus
                 type="text"
                 id="name"
                 formControlName="name"
                 placeholder="Enter Name"
                 [ngClass]="{'form-control': true, 'is-invalid': submitted && form.get('name').invalid && form.get('name').dirty}"
          >
          <ng-container *ngIf="submitted && form.get('name').invalid && form.get('name').dirty">
            <div *ngIf="form.get('name').errors.minlength" class="invalid-feedback">
              Name must be at least 5 characters long.
            </div>
            <div *ngIf="form.get('name').errors.required" class="invalid-feedback">
              Name is required.
            </div>
          </ng-container>
        </div>

        <div class="form-group">
          <label>Email</label>
          <input id="email"
                 type="email"
                 placeholder="Enter Email"
                 formControlName="email"
                 [ngClass]="{'form-control': true, 'is-invalid': submitted && form.get('email').invalid && form.get('email').dirty}"
          >
          <ng-container *ngIf="submitted && form.get('email').invalid && form.get('email').dirty">
            <div *ngIf="form.get('email').errors.email" class="invalid-feedback">
              Email must be valid.
            </div>
            <div *ngIf="form.get('email').errors.required" class="invalid-feedback">
              Email is required.
            </div>
            <div *ngIf="form.get('email').errors?.emailTaken" class="invalid-feedback">
              Email Already Exists in Database.
            </div>
          </ng-container>
        </div>

        <div class="form-group">
          <label for="country">Country</label>
          <input type="text"
                 id="country"
                 formControlName="country"
                 placeholder="Enter Country"
                 [ngClass]="{'form-control': true, 'is-invalid': submitted && form.get('country').invalid && form.get('country').dirty}"
          >
          <ng-container *ngIf="submitted && form.get('country').invalid && form.get('country').dirty">
            <div *ngIf="form.get('country').invalid" class="invalid-feedback">
              Country Name invalid.
            </div>
            <div *ngIf="form.get('country').errors.required" class="invalid-feedback">
              Country is required.
            </div>
          </ng-container>
        </div>

      </div>
    </div>

    <div class="row mt-3">
      <div class="col-sm text-center">
        <button type="submit" class="btn btn-primary btn-lg" [disabled]="form.pristine">Register</button>
      </div>
    </div>
  </form>
</div>
